(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{deAf:function(n,t,e){"use strict";e.r(t),e.d(t,"TemperatureSensorsModule",function(){return x});var o=e("ofXK"),i=e("tyNb"),r=e("K3ix"),s=e("tl2D"),c=e("fXoL"),a=e("3Pt+"),b=e("dZIy"),d=e("cTSu"),l=e("/ROg");const g=["myModal"],u=["successModal"];function p(n,t){if(1&n){const n=c.Ub();c.Tb(0,"div",41),c.Tb(1,"p",42),c.ac("click",function(){return c.rc(n),c.dc(),c.pc(18).show()}),c.wc(2,"Editar Sensor"),c.Sb(),c.Sb()}}let m=(()=>{class n{constructor(n,t,e){this.location=n,this.fb=t,this.sensorsService=e}ngOnInit(){this.retainer=this.location.getState(),console.log(this.retainer),this.sensorId=this.retainer.sensorId,this.stationName=this.retainer.stationName,this.min_config=this.retainer.min_config,this.max_config=this.retainer.max_config,this.sensorForm=this.fb.group({min_config:[],max_config:[],alert_days:[],alert_hours:[],alert_minutes:[]}),this.sensorForm.get("min_config").setValue(this.min_config),this.sensorForm.get("max_config").setValue(this.max_config)}saveChanges(){this.updateMaxMin(),this.updateAlertOcurrency()}updateMaxMin(){this.sensorsService.updateSensorMinMax(this.sensorId,this.sensorForm.get("min_config").value,this.sensorForm.get("max_config").value).subscribe(n=>{n.success?(this.myModal.hide(),this.successModal.show()):console.log(n.message)})}updateAlertOcurrency(){let n=1440*this.sensorForm.get("alert_days").value+60*this.sensorForm.get("alert_hours").value+this.sensorForm.get("alert_minutes").value;console.log(n),this.sensorsService.updateAlertOcurrency(this.sensorId,n).subscribe(n=>{n.success?console.log(n):console.log(n.message)})}successModalClose(){this.successModal.hide()}}return n.\u0275fac=function(t){return new(t||n)(c.Nb(o.g),c.Nb(a.b),c.Nb(s.a))},n.\u0275cmp=c.Hb({type:n,selectors:[["app-air-temperature-sensor-view"]],viewQuery:function(n,t){if(1&n&&(c.Ac(g,1),c.Ac(u,1)),2&n){let n;c.oc(n=c.bc())&&(t.myModal=n.first),c.oc(n=c.bc())&&(t.successModal=n.first)}},decls:103,vars:3,consts:[[1,"container"],[1,"row"],[1,"col","stationName","green"],[1,"col","urIcons"],["dropdown","",1,"btn-group","float-right"],["type","button","dropdownToggle","",1,"btn","btn-transparent"],[1,"green","icon-settings"],["class","dropdown-menu dropdown-menu-right",4,"dropdownMenu"],["type","button","disabled","true",1,"btn","btn-transparent"],[1,"cil-wifi-signal-4","green"],[1,"row","rw1"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["myModal","bs-modal"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup"],[1,"section-title"],[1,"col"],[1,"label"],[1,"input-group","mgtop"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"icon-arrow-down"],["type","number","id","min_config","formControlName","min_config"],[1,"icon-arrow-up"],["id","max_config","type","number","formControlName","max_config"],[1,"input-group"],[1,"icon-clock"],["id","alert_days","type","number","formControlName","alert_days"],["id","alert_hours","type","number","formControlName","alert_hours"],["id","alert_minutes","type","number","formControlName","alert_minutes"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["successModal","bs-modal"],["role","document",1,"modal-dialog","modal-success"],[1,"dropdown-menu","dropdown-menu-right"],["data-toggle","modal",1,"dropdown-item",3,"click"]],template:function(n,t){if(1&n){const n=c.Ub();c.Tb(0,"div",0),c.Tb(1,"div",1),c.Tb(2,"div",2),c.Tb(3,"p"),c.wc(4),c.Sb(),c.Sb(),c.Tb(5,"div",3),c.Tb(6,"div",4),c.Tb(7,"button",5),c.Ob(8,"i",6),c.Sb(),c.vc(9,p,3,0,"div",7),c.Sb(),c.Tb(10,"div",4),c.Tb(11,"button",8),c.Ob(12,"i",9),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Tb(13,"div",10),c.Ob(14,"app-readings-line-chart"),c.Sb(),c.Tb(15,"div",1),c.Ob(16,"app-sensor-alerts-history"),c.Sb(),c.Sb(),c.Tb(17,"div",11,12),c.Tb(19,"div",13),c.Tb(20,"div",14),c.Tb(21,"div",15),c.Tb(22,"h4",16),c.wc(23),c.Sb(),c.Tb(24,"button",17),c.ac("click",function(){return c.rc(n),c.pc(18).hide()}),c.Tb(25,"span",18),c.wc(26,"\xd7"),c.Sb(),c.Sb(),c.Sb(),c.Tb(27,"div",19),c.Tb(28,"form",20),c.Tb(29,"div",21),c.Tb(30,"h4"),c.wc(31,"Limites de medida"),c.Sb(),c.Tb(32,"p"),c.wc(33,"L\xedmites superiores e inferiores del sensor, en caso de que se detecte una lectura fuera del l\xedmite establecido se emitir\xe1 una alerta"),c.Sb(),c.Sb(),c.Tb(34,"div",1),c.Tb(35,"div",22),c.Tb(36,"p",23),c.wc(37,"L\xedmite inferior de medida"),c.Sb(),c.Tb(38,"div",24),c.Tb(39,"div",25),c.Tb(40,"span",26),c.Ob(41,"i",27),c.Sb(),c.Sb(),c.Ob(42,"input",28),c.Sb(),c.Sb(),c.Tb(43,"div",22),c.Tb(44,"p",23),c.wc(45,"L\xedmite superior de medida"),c.Sb(),c.Tb(46,"div",24),c.Tb(47,"div",25),c.Tb(48,"span",26),c.Ob(49,"i",29),c.Sb(),c.Sb(),c.Ob(50,"input",30),c.Sb(),c.Sb(),c.Sb(),c.Ob(51,"hr"),c.Tb(52,"div",21),c.Tb(53,"h4"),c.wc(54,"Ocurrenc\xeda de alertas"),c.Sb(),c.Tb(55,"p"),c.wc(56,"Cada cuanto el sensor emite alertas en caso de que se detecten valores fuera de los L\xedmites"),c.Sb(),c.Sb(),c.Tb(57,"div",1),c.Tb(58,"div",22),c.Tb(59,"p",23),c.wc(60,"D\xedas"),c.Sb(),c.Tb(61,"div",31),c.Tb(62,"div",25),c.Tb(63,"span",26),c.Ob(64,"i",32),c.Sb(),c.Sb(),c.Ob(65,"input",33),c.Sb(),c.Sb(),c.Tb(66,"div",22),c.Tb(67,"p",23),c.wc(68,"Horas"),c.Sb(),c.Tb(69,"div",31),c.Tb(70,"div",25),c.Tb(71,"span",26),c.Ob(72,"i",32),c.Sb(),c.Sb(),c.Ob(73,"input",34),c.Sb(),c.Sb(),c.Tb(74,"div",22),c.Tb(75,"p",23),c.wc(76,"Minutos"),c.Sb(),c.Tb(77,"div",31),c.Tb(78,"div",25),c.Tb(79,"span",26),c.Ob(80,"i",32),c.Sb(),c.Sb(),c.Ob(81,"input",35),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Tb(82,"div",36),c.Tb(83,"button",37),c.ac("click",function(){return c.rc(n),c.pc(18).hide()}),c.wc(84,"Cerrar"),c.Sb(),c.Tb(85,"button",38),c.ac("click",function(){return t.saveChanges()}),c.wc(86,"Guardar Cambios"),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Tb(87,"div",11,39),c.Tb(89,"div",40),c.Tb(90,"div",14),c.Tb(91,"div",15),c.Tb(92,"h4",16),c.wc(93,"Cambios Realizados con exito"),c.Sb(),c.Tb(94,"button",17),c.ac("click",function(){return c.rc(n),c.pc(88).hide()}),c.Tb(95,"span",18),c.wc(96,"\xd7"),c.Sb(),c.Sb(),c.Sb(),c.Tb(97,"div",19),c.Tb(98,"p"),c.wc(99,"Valores minimos y maximos cambiados con exito"),c.Sb(),c.Sb(),c.Tb(100,"div",36),c.Tb(101,"button",37),c.ac("click",function(){return t.successModalClose()}),c.wc(102,"Cerrar"),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb()}2&n&&(c.Bb(4),c.yc("",t.stationName," - Temperatura"),c.Bb(19),c.yc("Sensor Temperatura - ",t.stationName,""),c.Bb(5),c.ic("formGroup",t.sensorForm))},directives:[b.a,b.d,b.b,d.a,l.a,r.a,a.o,a.h,a.d,a.k,a.a,a.g,a.c],styles:[".green[_ngcontent-%COMP%]{font-size:20px;color:green}.row[_ngcontent-%COMP%]{justify-content:center;margin-block:10px}.section-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:gray}.label[_ngcontent-%COMP%]{text-align:center;font-size:14px}.input-group[_ngcontent-%COMP%]{justify-content:center}input[_ngcontent-%COMP%]{width:70px}.col[_ngcontent-%COMP%]{justify-content:center}.btnRow[_ngcontent-%COMP%]{justify-content:right}"]}),n})();var f=e("Y+sY"),S=e("nAY5");function T(n,t){1&n&&(c.Tb(0,"div",15),c.Tb(1,"a",16),c.wc(2,"Action"),c.Sb(),c.Tb(3,"a",16),c.wc(4,"Another action"),c.Sb(),c.Tb(5,"a",16),c.wc(6,"Something else here"),c.Sb(),c.Tb(7,"a",16),c.wc(8,"Something else here"),c.Sb(),c.Sb())}function h(n,t){1&n&&(c.Tb(0,"div",15),c.Tb(1,"a",16),c.wc(2,"Action"),c.Sb(),c.Tb(3,"a",16),c.wc(4,"Another action"),c.Sb(),c.Tb(5,"a",16),c.wc(6,"Something else here"),c.Sb(),c.Tb(7,"a",16),c.wc(8,"Something else here"),c.Sb(),c.Sb())}const w=function(n,t,e,o){return{red:n,green:t,gray:e,yellow:o}};function _(n,t){if(1&n){const n=c.Ub();c.Tb(0,"div",17),c.ac("click",function(){c.rc(n);const e=t.$implicit;return c.dc().goToSensor(e.sensor.id_sensor,e.name_station,e.sensor.min_config,e.sensor.max_config)}),c.Tb(1,"div",18),c.Tb(2,"p",19),c.wc(3),c.Sb(),c.Tb(4,"div",13),c.Tb(5,"ul"),c.Tb(6,"li",20),c.wc(7),c.Sb(),c.Tb(8,"li",21),c.wc(9," \xb0C "),c.Sb(),c.Sb(),c.Sb(),c.Tb(10,"div",22),c.Tb(11,"ul"),c.Ob(12,"li",23),c.Ob(13,"li",21),c.Sb(),c.Sb(),c.Sb(),c.Sb()}if(2&n){const n=t.$implicit;c.ic("ngClass",c.nc(3,w,n.sensor.last_reading>n.sensor.max_config||n.sensor.min_config>n.sensor.last_reading,n.sensor.last_reading>n.sensor.min_config&&n.sensor.max_config>n.sensor.last_reading,0==n.sensor.status,n.sensor.last_reading==n.sensor.min_config||n.sensor.last_reading==n.sensor.max_config)),c.Bb(3),c.xc(n.name_station),c.Bb(4),c.yc(" ",n.sensor.last_reading," ")}}const v=[{path:"",data:{title:"Temperatura Aire"},children:[{path:"",redirectTo:"sensors"},{path:"sensors",component:(()=>{class n{constructor(n,t,e){this.router=n,this.stationsService=t,this.auth=e}ngOnInit(){this.stationsService.getPanelStationsByType(this.auth.getUserCompanyId(),"TEMPERATURE_AIR").subscribe(n=>{n.success?(console.log(n),this.stations=n.data,console.log(this.stations)):console.log(n.message)})}goToSensor(n,t,e,o){this.router.navigate(["stations/temperatura-aire/sensor"],{state:{sensorId:n,stationName:t,min_config:e,max_config:o}})}}return n.\u0275fac=function(t){return new(t||n)(c.Nb(i.c),c.Nb(S.a),c.Nb(f.a))},n.\u0275cmp=c.Hb({type:n,selectors:[["app-air-temperature-sensors"]],decls:24,vars:1,consts:[[1,"container"],[1,"row","filtersRow"],[1,"col","glossary"],[1,"colorsBg"],[1,"dot","green"],[1,"dot","yellow"],[1,"dot","red"],[1,"dot","gray"],[1,"col"],[1,"optionsBar"],["dropdown","",1,"btn-group"],["type","button","dropdownToggle","",1,"btn"],["class","dropdown-menu dropdown-menu-right",4,"dropdownMenu"],[1,"row"],["class","card",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"dropdown-menu","dropdown-menu-right"],[1,"dropdown-item"],[1,"card",3,"ngClass","click"],[1,"card-body"],[1,"card-text","f18"],[1,"card-text","temperature-text"],[1,"card-text","celsius"],[1,"row","rowHumedad","f18"],[1,"card-text"]],template:function(n,t){1&n&&(c.Tb(0,"div",0),c.Tb(1,"div",1),c.Tb(2,"div",2),c.Tb(3,"div",3),c.Tb(4,"span",4),c.wc(5,"En rango"),c.Sb(),c.Tb(6,"span",5),c.wc(7,"Cerca de rango"),c.Sb(),c.Tb(8,"span",6),c.wc(9,"Fuera de rango"),c.Sb(),c.Tb(10,"span",7),c.wc(11,"Desactivado"),c.Sb(),c.Sb(),c.Sb(),c.Tb(12,"div",8),c.Tb(13,"div",9),c.Tb(14,"div",10),c.Tb(15,"button",11),c.wc(16," Filtrar "),c.Sb(),c.vc(17,T,9,0,"div",12),c.Sb(),c.Tb(18,"div",10),c.Tb(19,"button",11),c.wc(20," Ordenar Por "),c.Sb(),c.vc(21,h,9,0,"div",12),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Tb(22,"div",13),c.vc(23,_,14,8,"div",14),c.Sb(),c.Sb()),2&n&&(c.Bb(23),c.ic("ngForOf",t.stations))},directives:[b.a,b.d,b.b,o.j,o.i],styles:[".dot[_ngcontent-%COMP%]{height:min-content;display:inline-block;padding:10px;border-radius:10%;color:#fff;margin:10px;box-shadow:0 4px 4px rgba(0,0,0,.25)}.colorsBg[_ngcontent-%COMP%], .dot[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.colorsBg[_ngcontent-%COMP%]{display:flex;align-items:center;padding:5px}.card[_ngcontent-%COMP%], .colorsBg[_ngcontent-%COMP%]{border-radius:30px;text-align:center}.card[_ngcontent-%COMP%]{width:350px;margin:20px;box-shadow:0 4px 4px rgba(0,0,0,.25);color:#f5f5f5}.card[_ngcontent-%COMP%]   .temperature-text[_ngcontent-%COMP%]{font-size:50px;font-weight:700}.card[_ngcontent-%COMP%]   .f18[_ngcontent-%COMP%]{font-size:16px}.row[_ngcontent-%COMP%]{justify-content:center}.filtersRow[_ngcontent-%COMP%]{align-items:center}.filtersRow[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px}.filtersRow[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:5px;width:120px;background-color:#008036;color:#fff;border-radius:10px}ul[_ngcontent-%COMP%]{list-style-type:none;padding:5px 5px 5px 0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{float:left}.optionsBar[_ngcontent-%COMP%]{display:flex;justify-content:right}.celsius[_ngcontent-%COMP%]{font-weight:bolder;margin-left:5px}.glossary[_ngcontent-%COMP%]{flex-direction:column}.red[_ngcontent-%COMP%]{background-color:#f86c6b}.green[_ngcontent-%COMP%]{background-color:#7ccc8f}.gray[_ngcontent-%COMP%]{background-color:gray}.yellow[_ngcontent-%COMP%]{background-color:#e1cd66}@media (max-width:600px){.card[_ngcontent-%COMP%]{width:90%}.filtersRow[_ngcontent-%COMP%]{justify-content:center}.filtersRow[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin:5px}}"]}),n})(),data:{title:"Sensores"}},{path:"sensor",data:{title:"Sensor"},component:m}]}];let O=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.Lb({type:n}),n.\u0275inj=c.Kb({imports:[[i.g.forChild(v)],i.g]}),n})();var y=e("kqlq"),M=e("s3T5");let x=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.Lb({type:n}),n.\u0275inj=c.Kb({imports:[[o.c,O,y.a,b.c,M.a.forRoot(),r.b.forRoot(),a.l]]}),n})()}}]);