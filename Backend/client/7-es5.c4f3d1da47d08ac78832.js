!function(){function n(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function e(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function t(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{deAf:function(e,o,i){"use strict";i.r(o),i.d(o,"TemperatureSensorsModule",function(){return F});var r=i("ofXK"),s=i("tyNb"),a=i("K3ix"),c=i("tl2D"),b=i("fXoL"),d=i("3Pt+"),l=i("dZIy"),u=i("cTSu"),g=i("/ROg"),p=["myModal"],m=["successModal"];function f(n,e){if(1&n){var t=b.Ub();b.Tb(0,"div",41),b.Tb(1,"p",42),b.ac("click",function(){return b.rc(t),b.dc(),b.pc(18).show()}),b.wc(2,"Editar Sensor"),b.Sb(),b.Sb()}}var S,T=((S=function(){function e(t,o,i){n(this,e),this.location=t,this.fb=o,this.sensorsService=i}return t(e,[{key:"ngOnInit",value:function(){this.retainer=this.location.getState(),console.log(this.retainer),this.sensorId=this.retainer.sensorId,this.stationName=this.retainer.stationName,this.min_config=this.retainer.min_config,this.max_config=this.retainer.max_config,this.sensorForm=this.fb.group({min_config:[],max_config:[],alert_days:[],alert_hours:[],alert_minutes:[]}),this.sensorForm.get("min_config").setValue(this.min_config),this.sensorForm.get("max_config").setValue(this.max_config)}},{key:"saveChanges",value:function(){this.updateMaxMin(),this.updateAlertOcurrency()}},{key:"updateMaxMin",value:function(){var n=this;this.sensorsService.updateSensorMinMax(this.sensorId,this.sensorForm.get("min_config").value,this.sensorForm.get("max_config").value).subscribe(function(e){e.success?(n.myModal.hide(),n.successModal.show()):console.log(e.message)})}},{key:"updateAlertOcurrency",value:function(){var n=1440*this.sensorForm.get("alert_days").value+60*this.sensorForm.get("alert_hours").value+this.sensorForm.get("alert_minutes").value;console.log(n),this.sensorsService.updateAlertOcurrency(this.sensorId,n).subscribe(function(n){n.success?console.log(n):console.log(n.message)})}},{key:"successModalClose",value:function(){this.successModal.hide()}}]),e}()).\u0275fac=function(n){return new(n||S)(b.Nb(r.g),b.Nb(d.b),b.Nb(c.a))},S.\u0275cmp=b.Hb({type:S,selectors:[["app-air-temperature-sensor-view"]],viewQuery:function(n,e){var t;1&n&&(b.Ac(p,1),b.Ac(m,1)),2&n&&(b.oc(t=b.bc())&&(e.myModal=t.first),b.oc(t=b.bc())&&(e.successModal=t.first))},decls:103,vars:3,consts:[[1,"container"],[1,"row"],[1,"col","stationName","green"],[1,"col","urIcons"],["dropdown","",1,"btn-group","float-right"],["type","button","dropdownToggle","",1,"btn","btn-transparent"],[1,"green","icon-settings"],["class","dropdown-menu dropdown-menu-right",4,"dropdownMenu"],["type","button","disabled","true",1,"btn","btn-transparent"],[1,"cil-wifi-signal-4","green"],[1,"row","rw1"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["myModal","bs-modal"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup"],[1,"section-title"],[1,"col"],[1,"label"],[1,"input-group","mgtop"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"icon-arrow-down"],["type","number","id","min_config","formControlName","min_config"],[1,"icon-arrow-up"],["id","max_config","type","number","formControlName","max_config"],[1,"input-group"],[1,"icon-clock"],["id","alert_days","type","number","formControlName","alert_days"],["id","alert_hours","type","number","formControlName","alert_hours"],["id","alert_minutes","type","number","formControlName","alert_minutes"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["successModal","bs-modal"],["role","document",1,"modal-dialog","modal-success"],[1,"dropdown-menu","dropdown-menu-right"],["data-toggle","modal",1,"dropdown-item",3,"click"]],template:function(n,e){if(1&n){var t=b.Ub();b.Tb(0,"div",0),b.Tb(1,"div",1),b.Tb(2,"div",2),b.Tb(3,"p"),b.wc(4),b.Sb(),b.Sb(),b.Tb(5,"div",3),b.Tb(6,"div",4),b.Tb(7,"button",5),b.Ob(8,"i",6),b.Sb(),b.vc(9,f,3,0,"div",7),b.Sb(),b.Tb(10,"div",4),b.Tb(11,"button",8),b.Ob(12,"i",9),b.Sb(),b.Sb(),b.Sb(),b.Sb(),b.Tb(13,"div",10),b.Ob(14,"app-readings-line-chart"),b.Sb(),b.Tb(15,"div",1),b.Ob(16,"app-sensor-alerts-history"),b.Sb(),b.Sb(),b.Tb(17,"div",11,12),b.Tb(19,"div",13),b.Tb(20,"div",14),b.Tb(21,"div",15),b.Tb(22,"h4",16),b.wc(23),b.Sb(),b.Tb(24,"button",17),b.ac("click",function(){return b.rc(t),b.pc(18).hide()}),b.Tb(25,"span",18),b.wc(26,"\xd7"),b.Sb(),b.Sb(),b.Sb(),b.Tb(27,"div",19),b.Tb(28,"form",20),b.Tb(29,"div",21),b.Tb(30,"h4"),b.wc(31,"Limites de medida"),b.Sb(),b.Tb(32,"p"),b.wc(33,"L\xedmites superiores e inferiores del sensor, en caso de que se detecte una lectura fuera del l\xedmite establecido se emitir\xe1 una alerta"),b.Sb(),b.Sb(),b.Tb(34,"div",1),b.Tb(35,"div",22),b.Tb(36,"p",23),b.wc(37,"L\xedmite inferior de medida"),b.Sb(),b.Tb(38,"div",24),b.Tb(39,"div",25),b.Tb(40,"span",26),b.Ob(41,"i",27),b.Sb(),b.Sb(),b.Ob(42,"input",28),b.Sb(),b.Sb(),b.Tb(43,"div",22),b.Tb(44,"p",23),b.wc(45,"L\xedmite superior de medida"),b.Sb(),b.Tb(46,"div",24),b.Tb(47,"div",25),b.Tb(48,"span",26),b.Ob(49,"i",29),b.Sb(),b.Sb(),b.Ob(50,"input",30),b.Sb(),b.Sb(),b.Sb(),b.Ob(51,"hr"),b.Tb(52,"div",21),b.Tb(53,"h4"),b.wc(54,"Ocurrenc\xeda de alertas"),b.Sb(),b.Tb(55,"p"),b.wc(56,"Cada cuanto el sensor emite alertas en caso de que se detecten valores fuera de los L\xedmites"),b.Sb(),b.Sb(),b.Tb(57,"div",1),b.Tb(58,"div",22),b.Tb(59,"p",23),b.wc(60,"D\xedas"),b.Sb(),b.Tb(61,"div",31),b.Tb(62,"div",25),b.Tb(63,"span",26),b.Ob(64,"i",32),b.Sb(),b.Sb(),b.Ob(65,"input",33),b.Sb(),b.Sb(),b.Tb(66,"div",22),b.Tb(67,"p",23),b.wc(68,"Horas"),b.Sb(),b.Tb(69,"div",31),b.Tb(70,"div",25),b.Tb(71,"span",26),b.Ob(72,"i",32),b.Sb(),b.Sb(),b.Ob(73,"input",34),b.Sb(),b.Sb(),b.Tb(74,"div",22),b.Tb(75,"p",23),b.wc(76,"Minutos"),b.Sb(),b.Tb(77,"div",31),b.Tb(78,"div",25),b.Tb(79,"span",26),b.Ob(80,"i",32),b.Sb(),b.Sb(),b.Ob(81,"input",35),b.Sb(),b.Sb(),b.Sb(),b.Sb(),b.Sb(),b.Tb(82,"div",36),b.Tb(83,"button",37),b.ac("click",function(){return b.rc(t),b.pc(18).hide()}),b.wc(84,"Cerrar"),b.Sb(),b.Tb(85,"button",38),b.ac("click",function(){return e.saveChanges()}),b.wc(86,"Guardar Cambios"),b.Sb(),b.Sb(),b.Sb(),b.Sb(),b.Sb(),b.Tb(87,"div",11,39),b.Tb(89,"div",40),b.Tb(90,"div",14),b.Tb(91,"div",15),b.Tb(92,"h4",16),b.wc(93,"Cambios Realizados con exito"),b.Sb(),b.Tb(94,"button",17),b.ac("click",function(){return b.rc(t),b.pc(88).hide()}),b.Tb(95,"span",18),b.wc(96,"\xd7"),b.Sb(),b.Sb(),b.Sb(),b.Tb(97,"div",19),b.Tb(98,"p"),b.wc(99,"Valores minimos y maximos cambiados con exito"),b.Sb(),b.Sb(),b.Tb(100,"div",36),b.Tb(101,"button",37),b.ac("click",function(){return e.successModalClose()}),b.wc(102,"Cerrar"),b.Sb(),b.Sb(),b.Sb(),b.Sb(),b.Sb()}2&n&&(b.Bb(4),b.yc("",e.stationName," - Temperatura"),b.Bb(19),b.yc("Sensor Temperatura - ",e.stationName,""),b.Bb(5),b.ic("formGroup",e.sensorForm))},directives:[l.a,l.d,l.b,u.a,g.a,a.a,d.o,d.h,d.d,d.k,d.a,d.g,d.c],styles:[".green[_ngcontent-%COMP%]{font-size:20px;color:green}.row[_ngcontent-%COMP%]{justify-content:center;margin-block:10px}.section-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:gray}.label[_ngcontent-%COMP%]{text-align:center;font-size:14px}.input-group[_ngcontent-%COMP%]{justify-content:center}input[_ngcontent-%COMP%]{width:70px}.col[_ngcontent-%COMP%]{justify-content:center}.btnRow[_ngcontent-%COMP%]{justify-content:right}"]}),S),h=i("Y+sY"),v=i("nAY5");function w(n,e){1&n&&(b.Tb(0,"div",15),b.Tb(1,"a",16),b.wc(2,"Action"),b.Sb(),b.Tb(3,"a",16),b.wc(4,"Another action"),b.Sb(),b.Tb(5,"a",16),b.wc(6,"Something else here"),b.Sb(),b.Tb(7,"a",16),b.wc(8,"Something else here"),b.Sb(),b.Sb())}function _(n,e){1&n&&(b.Tb(0,"div",15),b.Tb(1,"a",16),b.wc(2,"Action"),b.Sb(),b.Tb(3,"a",16),b.wc(4,"Another action"),b.Sb(),b.Tb(5,"a",16),b.wc(6,"Something else here"),b.Sb(),b.Tb(7,"a",16),b.wc(8,"Something else here"),b.Sb(),b.Sb())}var y=function(n,e,t,o){return{red:n,green:e,gray:t,yellow:o}};function O(n,e){if(1&n){var t=b.Ub();b.Tb(0,"div",17),b.ac("click",function(){b.rc(t);var n=e.$implicit;return b.dc().goToSensor(n.sensor.id_sensor,n.name_station,n.sensor.min_config,n.sensor.max_config)}),b.Tb(1,"div",18),b.Tb(2,"p",19),b.wc(3),b.Sb(),b.Tb(4,"div",13),b.Tb(5,"ul"),b.Tb(6,"li",20),b.wc(7),b.Sb(),b.Tb(8,"li",21),b.wc(9," \xb0C "),b.Sb(),b.Sb(),b.Sb(),b.Tb(10,"div",22),b.Tb(11,"ul"),b.Ob(12,"li",23),b.Ob(13,"li",21),b.Sb(),b.Sb(),b.Sb(),b.Sb()}if(2&n){var o=e.$implicit;b.ic("ngClass",b.nc(3,y,o.sensor.last_reading>o.sensor.max_config||o.sensor.min_config>o.sensor.last_reading,o.sensor.last_reading>o.sensor.min_config&&o.sensor.max_config>o.sensor.last_reading,0==o.sensor.status,o.sensor.last_reading==o.sensor.min_config||o.sensor.last_reading==o.sensor.max_config)),b.Bb(3),b.xc(o.name_station),b.Bb(4),b.yc(" ",o.sensor.last_reading," ")}}var M,x,C,P=[{path:"",data:{title:"Temperatura Aire"},children:[{path:"",redirectTo:"sensors"},{path:"sensors",component:(M=function(){function e(t,o,i){n(this,e),this.router=t,this.stationsService=o,this.auth=i}return t(e,[{key:"ngOnInit",value:function(){var n=this;this.stationsService.getPanelStationsByType(this.auth.getUserCompanyId(),"TEMPERATURE_AIR").subscribe(function(e){e.success?(console.log(e),n.stations=e.data,console.log(n.stations)):console.log(e.message)})}},{key:"goToSensor",value:function(n,e,t,o){this.router.navigate(["stations/temperatura-aire/sensor"],{state:{sensorId:n,stationName:e,min_config:t,max_config:o}})}}]),e}(),M.\u0275fac=function(n){return new(n||M)(b.Nb(s.c),b.Nb(v.a),b.Nb(h.a))},M.\u0275cmp=b.Hb({type:M,selectors:[["app-air-temperature-sensors"]],decls:24,vars:1,consts:[[1,"container"],[1,"row","filtersRow"],[1,"col","glossary"],[1,"colorsBg"],[1,"dot","green"],[1,"dot","yellow"],[1,"dot","red"],[1,"dot","gray"],[1,"col"],[1,"optionsBar"],["dropdown","",1,"btn-group"],["type","button","dropdownToggle","",1,"btn"],["class","dropdown-menu dropdown-menu-right",4,"dropdownMenu"],[1,"row"],["class","card",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"dropdown-menu","dropdown-menu-right"],[1,"dropdown-item"],[1,"card",3,"ngClass","click"],[1,"card-body"],[1,"card-text","f18"],[1,"card-text","temperature-text"],[1,"card-text","celsius"],[1,"row","rowHumedad","f18"],[1,"card-text"]],template:function(n,e){1&n&&(b.Tb(0,"div",0),b.Tb(1,"div",1),b.Tb(2,"div",2),b.Tb(3,"div",3),b.Tb(4,"span",4),b.wc(5,"En rango"),b.Sb(),b.Tb(6,"span",5),b.wc(7,"Cerca de rango"),b.Sb(),b.Tb(8,"span",6),b.wc(9,"Fuera de rango"),b.Sb(),b.Tb(10,"span",7),b.wc(11,"Desactivado"),b.Sb(),b.Sb(),b.Sb(),b.Tb(12,"div",8),b.Tb(13,"div",9),b.Tb(14,"div",10),b.Tb(15,"button",11),b.wc(16," Filtrar "),b.Sb(),b.vc(17,w,9,0,"div",12),b.Sb(),b.Tb(18,"div",10),b.Tb(19,"button",11),b.wc(20," Ordenar Por "),b.Sb(),b.vc(21,_,9,0,"div",12),b.Sb(),b.Sb(),b.Sb(),b.Sb(),b.Tb(22,"div",13),b.vc(23,O,14,8,"div",14),b.Sb(),b.Sb()),2&n&&(b.Bb(23),b.ic("ngForOf",e.stations))},directives:[l.a,l.d,l.b,r.j,r.i],styles:[".dot[_ngcontent-%COMP%]{height:min-content;display:inline-block;padding:10px;border-radius:10%;color:#fff;margin:10px;box-shadow:0 4px 4px rgba(0,0,0,.25)}.colorsBg[_ngcontent-%COMP%], .dot[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.colorsBg[_ngcontent-%COMP%]{display:flex;align-items:center;padding:5px}.card[_ngcontent-%COMP%], .colorsBg[_ngcontent-%COMP%]{border-radius:30px;text-align:center}.card[_ngcontent-%COMP%]{width:350px;margin:20px;box-shadow:0 4px 4px rgba(0,0,0,.25);color:#f5f5f5}.card[_ngcontent-%COMP%]   .temperature-text[_ngcontent-%COMP%]{font-size:50px;font-weight:700}.card[_ngcontent-%COMP%]   .f18[_ngcontent-%COMP%]{font-size:16px}.row[_ngcontent-%COMP%]{justify-content:center}.filtersRow[_ngcontent-%COMP%]{align-items:center}.filtersRow[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px}.filtersRow[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:5px;width:120px;background-color:#008036;color:#fff;border-radius:10px}ul[_ngcontent-%COMP%]{list-style-type:none;padding:5px 5px 5px 0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{float:left}.optionsBar[_ngcontent-%COMP%]{display:flex;justify-content:right}.celsius[_ngcontent-%COMP%]{font-weight:bolder;margin-left:5px}.glossary[_ngcontent-%COMP%]{flex-direction:column}.red[_ngcontent-%COMP%]{background-color:#f86c6b}.green[_ngcontent-%COMP%]{background-color:#7ccc8f}.gray[_ngcontent-%COMP%]{background-color:gray}.yellow[_ngcontent-%COMP%]{background-color:#e1cd66}@media (max-width:600px){.card[_ngcontent-%COMP%]{width:90%}.filtersRow[_ngcontent-%COMP%]{justify-content:center}.filtersRow[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin:5px}}"]}),M),data:{title:"Sensores"}},{path:"sensor",data:{title:"Sensor"},component:T}]}],k=((x=t(function e(){n(this,e)})).\u0275fac=function(n){return new(n||x)},x.\u0275mod=b.Lb({type:x}),x.\u0275inj=b.Kb({imports:[[s.g.forChild(P)],s.g]}),x),N=i("kqlq"),A=i("s3T5"),F=((C=t(function e(){n(this,e)})).\u0275fac=function(n){return new(n||C)},C.\u0275mod=b.Lb({type:C}),C.\u0275inj=b.Kb({imports:[[r.c,k,N.a,l.c,A.a.forRoot(),a.b.forRoot(),d.l]]}),C)}}])}();